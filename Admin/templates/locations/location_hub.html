{% extends 'admin_base.html' %}
{% load static %}

<!-- title for the location page -->
{% block title %}
Admin-Location Hub
{% endblock %}

<!-- css link for location page -->
{% block link %}
<link rel="stylesheet"  href="{% static 'admin/css/locationhub.css' %}">
{% endblock %}


<!-- contents for location page -->
{% block content %}
<div class="container-fluid px-4">
  <!-- breadcrumb section -->
  <ol class="breadcrumb mt-3">
      <li class="breadcrumb-item"><a class="text-decoration-none main-heading" href="{% url 'admin_dashboard' %}">Dashboard</a></li>
      <li class="breadcrumb-item active">Location Hub</li>
  </ol>

  {% if messages %}
  <!-- message section -->
  <div class="row mt-3" >
    <div class="col-lg-7"></div>
    <div class="col-lg-5" id="message-section">
      {% for message in messages %}
      <div class="alert alert-dismissible fade show" role="alert">
        {% if message.tags == 'success' %}
        <strong>Success <i class="fas fa-check-circle icon"></i></strong><span class="ms-2">{{message}}</span>
        {% else %}
        <strong>Sorry <i class="fas fa-warning icon"></i></strong><span class="ms-2">{{message}}</span>
        {% endif %}
        <button type="button" class="btn-close btn-close-white shadow-none" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
      {% endfor %}
    </div>
  </div>
  {% endif %}

  <div class="row mt-5">
    <div class="d-grid gap-2 d-md-block">
      <button class="btn1 p-2" data-bs-toggle="modal" data-bs-target="#addlocationmodal"><i class="fas fa-plus"></i> Service Location</button>
      <button class="btn1 p-2" data-bs-toggle="modal" data-bs-target="#addcountrymodal"><i class="fas fa-plus"></i> Country</button>
      <button class="btn1 p-2" data-bs-toggle="modal" data-bs-target="#addstatemodal"><i class="fas fa-plus"></i> State</button>
      <button class="btn1 p-2" data-bs-toggle="modal" data-bs-target="#addcitymodal"><i class="fas fa-plus"></i> City</button>

    </div>

  </div>

  <div class="row mt-3 mb-5">
    <div class="col-lg-12">
      <ul class="nav nav-underline  mb-3" id="pills-tab" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-locations" type="button" role="tab" aria-controls="pills-locations" aria-selected="true">Locations</button>
        </li>
        <!-- <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-archive" type="button" role="tab" aria-controls="pills-archive" aria-selected="false">Archive</button>
        </li> -->
          
      </ul>
      <div class="tab-content" id="pills-tabContent">
        <!-- locations add -->
        <div class="tab-pane fade show active" id="pills-locations" role="tabpanel" aria-labelledby="pills-home-tab" tabindex="0">
          <div class="locations mt-5">
            <div class="row">
              {% include 'locations/tables.html' %}
            </div>
              
          </div>
        </div>

          
      </div>

    </div>
  </div>


  

</div>





<!--create Modal -->

<div class="modal fade " id="addcountrymodal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog ">
    <div class="modal-content ">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel"><i class="fas fa-plus"></i> Country</h1>
      </div>
      <div class="modal-body rounded-2 shadow">
        <form action="{% url 'add_country' %}" method="post" enctype="multipart/form-data">
          {% csrf_token %}
          <input type="text" name="name" class="form-control mt-2 mb-2" placeholder="Country Name"  required>
          
          <div class="row">
              <div class="col-lg-8"></div>
              <div class="col-lg-4">
                <button type="submit" class="btn1 w-100 mt-2 mb-2">Save <i class="fas fa-save ms-1"></i></button>
              </div>
          </div>
        </form>
          
        
      </div>
      
    </div>
  </div>
</div>


<div class="modal fade " id="addstatemodal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog ">
    <div class="modal-content ">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel"><i class="fas fa-plus"></i> State</h1>
      </div>
      <div class="modal-body rounded-2 shadow">
        <form action="{% url 'add_state' %}" method="post" enctype="multipart/form-data">
          {% csrf_token %}

          
          <input type="text" name="name" class="form-control mt-2 mb-2" placeholder="State Name"  required>
          
          <div class="row">
              <div class="col-lg-8"></div>
              <div class="col-lg-4">
                <button type="submit" class="btn1 w-100 mt-2 mb-2">Save <i class="fas fa-save ms-1"></i></button>
              </div>
          </div>
        </form>
          
        
      </div>
      
    </div>
  </div>
</div>


<div class="modal fade " id="addcitymodal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog ">
    <div class="modal-content ">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel"><i class="fas fa-plus"></i> City</h1>
      </div>
      <div class="modal-body rounded-2 shadow">
        <form action="{% url 'add_city' %}" method="post" enctype="multipart/form-data">
          {% csrf_token %}

          
          <input type="text" name="name" class="form-control mt-2 mb-2" placeholder="City Name"  required>
          
          <div class="row">
              <div class="col-lg-8"></div>
              <div class="col-lg-4">
                <button type="submit" class="btn1 w-100 mt-2 mb-2">Save <i class="fas fa-save ms-1"></i></button>
              </div>
          </div>
        </form>
          
        
      </div>
      
    </div>
  </div>
</div>

<div class="modal fade " id="addlocationmodal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog ">
    <div class="modal-content ">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel"><i class="fas fa-plus"></i> Location</h1>
      </div>
      <div class="modal-body rounded-2 shadow">
        <form action="{% url 'add_location' %}" method="post" enctype="multipart/form-data">
          {% csrf_token %}

          <select id="country-select" name="country" class="form-select  mt-2 mb-2" required>
            <option value="" hidden>Select Country</option>
            {% for i in country %}
            <option class="select-hover" value="{{i.id}}">{{i.name}}</option>
            {% endfor %}
          </select>
          <select name="state" class="form-select  mt-2 mb-2" required>
            <option  value="" hidden>Select State</option>
            {% for i in state %}
            <option class="select-hover" value="{{i.id}}">{{i.name}}</option>
            {% endfor %}
          </select>
          <select name="city" class="form-select  mt-2 mb-2" required>
            <option value="" hidden>Select City</option>
            {% for i in city %}
            <option class="select-hover" value="{{i.id}}">{{i.name}}</option>
            {% endfor %}
          </select>
          <input type="text" name="name" class="form-control mt-2 mb-2" placeholder="Location Name"  required>
          <input type="text" name="pincode" class="form-control mt-2 mb-2" placeholder="Pincode"  required>

          <div class="row">
              <div class="col-lg-8"></div>
              <div class="col-lg-4">
                <button type="submit" class="btn1 w-100 mt-2 mb-2">Save <i class="fas fa-save ms-1"></i></button>
              </div>
          </div>
        </form>
          
        
      </div>
      
    </div>
  </div>
</div>








<!--edit Modal -->
{% for i in all_location %}
<div class="modal fade " id="editlocationmodal{{i.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog ">
    <div class="modal-content ">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel"><i class="fas fa-edit"></i> Location</h1>
      </div>
      <div class="modal-body rounded-2 shadow">
        <form action="{% url 'edit_location' i.id %}" method="post" enctype="multipart/form-data">
          {% csrf_token %}
          <label for="">Country</label>
          <select name="country" class="form-select  mt-2 mb-2" required>
            <option value="{{i.country.id}}" hidden>{{i.country.name}}</option>
            {% for i in country %}
            <option class="select-hover" value="{{i.id}}">{{i.name}}</option>
            {% endfor %}
          </select>
          <label for="">State</label>
          <select name="state" class="form-select  mt-2 mb-2" required>
            <option  value="{{i.state.id}}" hidden>{{i.state.name}}</option>
            {% for i in state %}
            <option class="select-hover" value="{{i.id}}">{{i.name}}</option>
            {% endfor %}
          </select>
          <label for="">City</label>
          <select name="city" class="form-select  mt-2 mb-2" required>
            <option value="{{i.city.id}}" hidden>{{i.city.name}}</option>
            {% for i in city %}
            <option class="select-hover" value="{{i.id}}">{{i.name}}</option>
            {% endfor %}
          </select>
          <label for="">Location</label>
          <input type="text" name="name" class="form-control mt-2 mb-2" value="{{i.name}}"  required>
          <label for="">Pincode</label>
          <input type="text" name="pincode" class="form-control mt-2 mb-2" value="{{i.postal_code}}"  required>
          
          <div class="row">
              <div class="col-lg-8"></div>
              <div class="col-lg-4">
                <button type="submit" class="btn1 w-100 mt-2 mb-2">Update <i class="fas fa-save ms-1"></i></button>
              </div>
          </div>
        </form>
          
        
      </div>
      
    </div>
  </div>
</div>
{% endfor %}






{% endblock %}

